<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Password, please.</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Hint container */
    #hint-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 15px;
    }

    #hint-btn {
      padding: 5px 15px;
      background: #555;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      margin-bottom: 10px;
    }

    #hint-text {
      display: none;
      text-align: center;
      font-size: 14px;
      color: #ccc;
      line-height: 1.4;
    }
  </style>
</head>
<body id="password-page">
  <div id="password-container">
    <h2>Please input the password provided to you.</h2>
    <p>Warning: Case and space sensitive. </p>
    <input type="password" id="password-input" placeholder="Password here">
    <button id="submit-password">Enter</button>
    <p id="error-msg" style="color:red; display:none;">ERR</p>

    <!-- Hint button and text wrapped in a container -->
    <div id="hint-container">
      <button id="hint-btn">Need help?</button>
      <div id="hint-text">
        <p>Did you get the clues in the Drink Links stories?</p>
        <p>Perhaps you should read through them again. ;)</p>
      </div>
    </div>
  </div>

  <!-- Error sound -->
  <audio id="error-sound" src="assets/error.mp3"></audio>

  <script>
    const correctPassword = "A Deep Commitment to Purple"; 
    const errorSound = document.getElementById("error-sound");

    function checkPassword() {
      const entered = document.getElementById("password-input").value;
      if (entered === correctPassword) {
        window.location.href = "more.html";
      } else {
        document.getElementById("error-msg").style.display = "block";
        errorSound.currentTime = 0;
        errorSound.play().catch(() => console.warn("Autoplay blocked â€” user interaction needed."));
      }
    }

    document.getElementById("submit-password").addEventListener("click", checkPassword);
    document.getElementById("password-input").addEventListener("keypress", (e) => {
      if (e.key === "Enter") checkPassword();
    });

    // Hint button logic
    const hintBtn = document.getElementById("hint-btn");
    const hintText = document.getElementById("hint-text");

    hintBtn.addEventListener("click", () => {
      hintBtn.style.display = "none";
      hintText.style.display = "block";
    });

    // DevTools detection
    const threshold = 160;
    setInterval(() => {
      const widthThreshold = window.outerWidth - window.innerWidth > threshold;
      const heightThreshold = window.outerHeight - window.innerHeight > threshold;
      if (widthThreshold || heightThreshold) {
        window.location.href = "ohhellno.html";
      }
    }, 500);

    const element = new Image();
    Object.defineProperty(element, 'id', {
      get: function() { window.location.href = "ohhellno.html"; }
    });
    console.log(element);
  </script>
</body>
</html>
