<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Password, please.</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Hint button styles */
    #hint-btn {
      margin-top: 15px;
      padding: 5px 15px;
      background: #555;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      display: block; /* Make button appear on its own line */
    }

    .hint-text {
      display: none;
      margin-top: 10px;
      font-size: 14px;
      color: #ccc;
      line-height: 1.5;
    }

    /* Add spacing between password box and button */
    #submit-password {
      display: block;
      margin-top: 10px;
    }
  </style>
</head>
<body id="password-page">
  <div id="password-container">
    <h2>Please input the password provided to you.</h2>
    <input type="password" id="password-input" placeholder="Password here">
    <button id="submit-password">Enter</button>
    <p id="error-msg" style="color:red; display:none;">ERR</p>

    <!-- Hint button and text -->
    <button id="hint-btn">Need help?</button>
    <p class="hint-text">Did you get the clues in the Drink Links stories?</p>
    <p class="hint-text">You oughta read through the whole story... ;)</p>
  </div>

  <!-- Error sound -->
  <audio id="error-sound" src="assets/error.mp3"></audio>

  <script>
    const correctPassword = "A Deep Commitment to Purple"; // the password
    const errorSound = document.getElementById("error-sound");

    function checkPassword() {
      const entered = document.getElementById("password-input").value;
      if (entered === correctPassword) {
        window.location.href = "more.html"; // Correct password → redirect
      } else {
        document.getElementById("error-msg").style.display = "block";
        errorSound.currentTime = 0; // restart sound if already playing
        errorSound.play().catch(() => {
          console.warn("Autoplay blocked — user interaction needed.");
        });
      }
    }

    document.getElementById("submit-password").addEventListener("click", checkPassword);

    document.getElementById("password-input").addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        checkPassword();
      }
    });

    // --- Hint button logic ---
    const hintBtn = document.getElementById("hint-btn");
    const hintTexts = document.querySelectorAll(".hint-text");

    hintBtn.addEventListener("click", () => {
      hintBtn.style.display = "none"; // hide button
      hintTexts.forEach(ht => ht.style.display = "block"); // show all hint texts
    });

    // --- Detect if DevTools / Inspect is opened ---
    let devtoolsOpen = false;
    const threshold = 160;
    setInterval(function() {
      const widthThreshold = window.outerWidth - window.innerWidth > threshold;
      const heightThreshold = window.outerHeight - window.innerHeight > threshold;
      if (widthThreshold || heightThreshold) {
        devtoolsOpen = true;
        window.location.href = "ohhellno.html";
      }
    }, 500);

    const element = new Image();
    Object.defineProperty(element, 'id', {
      get: function() {
        devtoolsOpen = true;
        window.location.href = "ohhellno.html";
      }
    });
    console.log(element);
  </script>
</body>
</html>
